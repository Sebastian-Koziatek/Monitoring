<h2 align="center">Wprowadzenie</h2>

W tej części szkolenia zajmiemy się instalacją serwera Zabbix na systemach opartych na Debian (Ubuntu, Debian). Proces instalacji obejmuje konfigurację oficjalnych repozytoriów, instalację wymaganych pakietów oraz podstawową konfigurację systemu.

<h2 align="center">Wymagania systemowe</h2>

### Minimalne wymagania sprzętowe:
- **RAM**: 512 MB (zalecane 2 GB lub więcej)
- **Procesor**: 1 CPU core
- **Miejsce na dysku**: 2 GB (zalecane 10 GB lub więcej)
- **Sieć**: Połączenie z internetem podczas instalacji

### Obsługiwane wersje systemów:
- Ubuntu 20.04 LTS (Focal Fossa)
- Ubuntu 22.04 LTS (Jammy Jellyfish) 
- Ubuntu 24.04 LTS (Noble Numbat)
- Debian 11 (Bullseye)
- Debian 12 (Bookworm)

<h2 align="center">Krok 1: Przygotowanie repozytoriów Zabbix</h2>

### 1.1 Pobranie i instalacja klucza repozytorium

Pobieramy oficjalny pakiet konfiguracyjny repozytorium Zabbix:
```bash
# Pobranie pakietu konfiguracyjnego dla Ubuntu 24.04
wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu24.04_all.deb

# Instalacja pakietu konfiguracyjnego
sudo dpkg -i zabbix-release_latest_7.0+ubuntu24.04_all.deb

# Aktualizacja listy pakietów
sudo apt update
```

> **Uwaga**: Dla innych wersji Ubuntu/Debian dostosuj URL do odpowiedniej wersji systemu.


<h2 align="center">Krok 2: Instalacja komponentów serwera Zabbix</h2>

### 2.1 Instalacja podstawowych pakietów

Instalujemy wszystkie wymagane komponenty serwera Zabbix:
```bash
sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent
```

**Opis instalowanych pakietów:**
- `zabbix-server-mysql` - serwer Zabbix z obsługą bazy danych MySQL/MariaDB
- `zabbix-frontend-php` - interfejs webowy napisany w PHP
- `zabbix-apache-conf` - konfiguracja Apache dla frontendu Zabbix
- `zabbix-sql-scripts` - skrypty SQL do inicjalizacji bazy danych
- `zabbix-agent` - agent Zabbix do monitorowania lokalnego serwera

<h2 align="center">Krok 3: Konfiguracja lokalizacji systemu</h2>

### 3.1 Instalacja i konfiguracja lokalizacji

Prawidłowa konfiguracja lokalizacji jest wymagana dla poprawnego działania interfejsu webowego:
```bash
# Instalacja pakietu lokalizacji
sudo apt install locales

# Konfiguracja dostępnych lokalizacji
sudo dpkg-reconfigure locales
```

**Zalecane lokalizacje do włączenia:**
- `en_US.UTF-8` - angielska (domyślna)
- `pl_PL.UTF-8` - polska (opcjonalnie)
### 3.2 Ustawienie zmiennych środowiskowych
```bash
# Eksport zmiennej lokalizacji dla bieżącej sesji
export LC_ALL=en_US.UTF-8

# Trwałe ustawienie w profilu użytkownika
echo 'export LC_ALL=en_US.UTF-8' >> ~/.bashrc
```


<h2 align="center">Krok 4: Uruchomienie i włączenie usług (tymczasowo)</h2>

> **Ważne**: Ten krok uruchamia usługi tymczasowo. Pełna konfiguracja wymaga wcześniejszego skonfigurowania bazy danych (opisane w kolejnym rozdziale).
```bash
# Restart usług systemowych
sudo systemctl restart zabbix-server zabbix-agent apache2

# Włączenie automatycznego uruchamiania usług przy starcie systemu
sudo systemctl enable zabbix-server zabbix-agent apache2
```

### 4.1 Sprawdzenie statusu usług
```bash
# Sprawdzenie statusu usług Zabbix
sudo systemctl status zabbix-server zabbix-agent apache2
```

---

### 4.2 Rozwiązywanie problemów z językiem polskim w interfejsie webowym

Jeśli po instalacji nie możesz wybrać polskiego języka w interfejsie Zabbix, wykonaj:
```bash
sudo apt-get install --reinstall zabbix-frontend-php
sudo systemctl restart apache2
```
To przywróci pliki tłumaczeń i odświeży frontend. Po tych krokach polski powinien być dostępny na liście języków w panelu logowania.
