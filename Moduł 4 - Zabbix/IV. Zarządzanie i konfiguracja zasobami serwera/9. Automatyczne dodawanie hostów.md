<h2 align="center">Automatyczne dodawanie hostów w Zabbix 7.0 LTS</h2>

Automatyczne dodawanie hostów w Zabbix można zrealizować za pomocą funkcji <b>Akcje autorejestracji</b> dostępnej w menu <b>Alerty → Akcje → Akcje autorejestracji</b>.

---

## Krok 1: Konfiguracja pliku zabbix_agent.conf

Aby host mógł się automatycznie zarejestrować, w pliku <code>zabbix_agent.conf</code> (lub <code>zabbix_agent2.conf</code>) powinny być ustawione kluczowe parametry:

```ini
Server=<IP_ZABBIX_SERVERA>
ServerActive=<IP_ZABBIX_SERVERA>
Hostname=<unikalna_nazwa_hosta>
```

Przykład:
```ini
Server=192.168.1.10
ServerActive=192.168.1.10
Hostname=webserver01
```

Opcjonalnie, aby hostname był dynamiczny:
```ini
HostnameItem=system.hostname
```

Po zmianie konfiguracji zrestartuj agenta:
```bash
sudo systemctl restart zabbix-agent
```

---

## Krok 2: Konfiguracja Akcji autorejestracji

1. Zaloguj się do interfejsu webowego Zabbix jako administrator.
2. Przejdź do menu <b>Alerty → Akcje → Akcje autorejestracji</b>.
3. Kliknij <b>Utwórz akcję</b>.
4. Ustaw warunki (np. "Host zarejestrowany przez agenta Zabbix").
5. W sekcji <b>Operacje</b> dodaj:
   - <b>Dodaj hosta</b>
   - <b>Dodaj do grupy hostów</b> (np. "Nowo zarejestrowane hosty")
   - <b>Powiąż z szablonem</b> (np. "Szablon OS Linux")
6. Zapisz akcję.

---

## Przykład konfiguracji operacji w akcji autorejestracji

W sekcji <b>Operacje</b> akcja powinna zawierać następujące pozycje:

- <b>Dodaj host</b>
- <b>Dodaj do grup hostów:</b> Linux servers
- <b>Połącz szablony:</b> Linux by Zabbix agent

Tak jak na poniższym przykładzie z interfejsu Zabbix:

```
Operacje
---------
Dodaj host
Dodaj do grup hostów: Linux servers
Połącz szablony: Linux by Zabbix agent
```

Każda operacja może być edytowana lub usunięta, a całość zatwierdzana przyciskiem <b>Zaktualizuj</b>.

*Przynajmniej jedna operacja musi istnieć.*

---

## Dodatkowe wskazówki

- Akcje autorejestracji pozwalają na automatyczne dodawanie hostów zgłaszających się przez agenta Zabbix.
- Możesz ustawić dodatkowe operacje, np. powiadomienia e-mail, automatyczne przypisanie do grupy czy szablonu.
- Hosty dodane przez autorejestrację pojawią się w wybranej grupie hostów i będą monitorowane zgodnie z przypisanym szablonem.

---

Więcej informacji: [Oficjalna dokumentacja Zabbix - Autoregistration](https://www.zabbix.com/documentation/current/pl/manual/discovery/auto_registration)