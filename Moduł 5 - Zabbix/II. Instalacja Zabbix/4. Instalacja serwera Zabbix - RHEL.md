<h2 align="center">Wprowadzenie</h2>

W tej części szkolenia zajmiemy się instalacją serwera Zabbix na systemach opartych na Red Hat Enterprise Linux (CentOS, RHEL, Rocky Linux, AlmaLinux). Proces instalacji obejmuje konfigurację oficjalnych repozytoriów, instalację wymaganych pakietów oraz podstawową konfigurację systemu.

<h2 align="center">Wymagania systemowe</h2>

### Minimalne wymagania sprzętowe:
- **RAM**: 512 MB (zalecane 2 GB lub więcej)
- **Procesor**: 1 CPU core
- **Miejsce na dysku**: 2 GB (zalecane 10 GB lub więcej)
- **Sieć**: Połączenie z internetem podczas instalacji

### Obsługiwane wersje systemów:
- CentOS 7, 8, 9
- Red Hat Enterprise Linux (RHEL) 7, 8, 9
- Rocky Linux 8, 9
- AlmaLinux 8, 9
- Oracle Linux 7, 8, 9

<h2 align="center">Krok 1: Wstępna konfiguracja systemu</h2>

### 1.1 Przełączenie na użytkownika root

Dla ułatwienia procesu instalacji przełączamy się na konto administratora:
```bash
# Przełączenie na użytkownika root
sudo su -
```

### 1.2 Konfiguracja SELinux (na potrzeby szkolenia)

> **Uwaga**: W środowisku produkcyjnym zaleca się pozostawienie SELinux w trybie enforcing i odpowiednią konfigurację polityk bezpieczeństwa.
```bash
# Edycja konfiguracji SELinux
nano /etc/selinux/config

# Zmiana wartości z enforcing na disabled lub permissive
# SELINUX=disabled
```

### 1.3 Konfiguracja firewall (na potrzeby szkolenia)

> **Uwaga**: W środowisku produkcyjnym należy skonfigurować odpowiednie reguły firewall zamiast wyłączać usługę.
```bash
# Wyłączenie i zatrzymanie firewall
systemctl disable firewalld
systemctl stop firewalld

# Sprawdzenie statusu firewall
systemctl status firewalld
```

<h2 align="center">Krok 2: Instalacja repozytorium Zabbix</h2>

### 2.1 Dodanie oficjalnego repozytorium Zabbix

Instalujemy oficjalny pakiet konfiguracyjny repozytorium Zabbix 7.0:

```bash
# Instalacja pakietu repozytorium dla RHEL 9
rpm -Uvh https://repo.zabbix.com/zabbix/7.0/rhel/9/x86_64/zabbix-release-latest.el9.noarch.rpm

# Czyszczenie cache menedżera pakietów
sudo dnf clean all
```

> **Uwaga**: Dla innych wersji RHEL/CentOS dostosuj URL:
> - RHEL 8: `zabbix-release-latest.el8.noarch.rpm`
> - RHEL 7: `zabbix-release-latest.el7.noarch.rpm`

### 2.2 Aktualizacja listy pakietów

```bash
# Aktualizacja metadanych repozytoriów
dnf makecache
```

<h2 align="center">Krok 3: Instalacja komponentów serwera Zabbix</h2>

### 3.1 Instalacja podstawowych pakietów

Instalujemy wszystkie wymagane komponenty serwera Zabbix:

```bash
dnf install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-selinux-policy zabbix-agent
```

**Opis instalowanych pakietów:**
- `zabbix-server-mysql` - serwer Zabbix z obsługą bazy danych MySQL/MariaDB
- `zabbix-web-mysql` - interfejs webowy z obsługą MySQL
- `zabbix-apache-conf` - konfiguracja Apache dla frontendu Zabbix
- `zabbix-sql-scripts` - skrypty SQL do inicjalizacji bazy danych
- `zabbix-selinux-policy` - polityki SELinux dla Zabbix
- `zabbix-agent` - agent Zabbix do monitorowania lokalnego serwera

<h2 align="center">Krok 4: Konfiguracja lokalizacji systemu</h2>

### 4.1 Instalacja pakietów językowych

Instalacja obsługi lokalizacji i pakietów językowych:

```bash
# Instalacja pakietów językowych
sudo dnf install langpacks-en glibc-all-langpacks -y

# Generowanie lokalizacji
sudo localedef -c -i en_US -f UTF-8 en_US.UTF-8
```

### 4.2 Ustawienie zmiennych środowiskowych

```bash
# Eksport zmiennej lokalizacji dla bieżącej sesji
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# Trwałe ustawienie w profilu systemu
echo 'export LANG=en_US.UTF-8' >> /etc/environment
echo 'export LC_ALL=en_US.UTF-8' >> /etc/environment
```

<h2 align="center">Krok 5: Uruchomienie i włączenie usług (tymczasowo)</h2>

> **Ważne**: Ten krok uruchamia usługi tymczasowo. Pełna konfiguracja wymaga wcześniejszego skonfigurowania bazy danych (opisane w kolejnym rozdziale).

```bash
# Restart usług systemowych
systemctl restart zabbix-server zabbix-agent httpd

# Włączenie automatycznego uruchamiania usług przy starcie systemu
systemctl enable zabbix-server zabbix-agent httpd
```

### 5.1 Sprawdzenie statusu usług

```bash
# Sprawdzenie statusu usług Zabbix
systemctl status zabbix-server zabbix-agent httpd
```
